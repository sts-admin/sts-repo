
<!-- ************************************************************************************************************************************-->

<div ng-include="'templates/header.html'"></div>
<div ng-include="'templates/main-menu.html'"></div>

<div class="container-fluid">
	<div class="clearfix">
		<div class="panel panel-default">
				<div class="panel-heading form-heading">
					<label>Update User Detail</label>				
				</div>
				<div class="panel-body">
					<form ng-submit="userVm.updateUser();">
						<!-- .row -->
						<div class="row">
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">
								First Name
							</span>
							<i class="star red">*</i>
							<span class="colon">:</span> 
						</div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							  <input type="text" placeholder="First Name" class="form-control" maxlength="20" oninvalid="this.setCustomValidity('Enter First Name');" onkeypress="this.setCustomValidity('');" ng-model="userVm.user.firstName" ng-required="true" autofocus />
							</div>
						  </div>
						   <!-- .col -->
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">
								Last Name
							</span>
							<span class="colon">:</span> 
						</div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							  <input type="text" placeholder="Last Name" class="form-control" maxlength="20" ng-model="userVm.user.lastName"  />
							</div>
						  </div>
						  <!-- .col -->
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">
								User ID
							</span>
							<i class="star red">*</i>
							<span class="colon">:</span>
						</div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							  <input type="text" placeholder="Enter User ID" oninvalid="this.setCustomValidity('Enter User ID');" onkeypress="this.setCustomValidity('');" class="form-control" maxlength="25" ng-model="userVm.user.userName" ng-required="true"/>
							</div>
						  </div>
						  <!-- .col -->
						  <!-- .col -->
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right">
							<span class="form-label">
								Password
							</span>
							<i class="star red">*</i>
							<span class="colon">:</span> 
						</div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							  <input type="password" class="form-control" placeholder="Eter Password" oninvalid="this.setCustomValidity('Enter Password');" onkeypress="this.setCustomValidity('');" maxlength="16" ng-model="userVm.user.password" ng-required="true" />
							</div>
						  </div>
						  <!-- .col -->
						 <!-- .col -->
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">
								User Code
							</span>
							<i class="star red">*</i>
							<span class="colon">:</span>
						</div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							  <input type="text" placeholder="Enter User Code" oninvalid="this.setCustomValidity('Enter User Code');" onkeypress="this.setCustomValidity('');" class="form-control" maxlength="10" ng-model="userVm.user.userCode" ng-required="true"/>
							</div>
						  </div>
						  <!-- .col -->
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">Email ID</span>
							<i class="star red">*</i>
							<span class="colon">:</span> </div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							  <input type="email" class="form-control" placeholder="Enter Email" maxlength="100" oninvalid="this.setCustomValidity('Enter Email');" onkeypress="this.setCustomValidity('');" ng-model="userVm.user.email" ng-required="true" />
							</div>
						  </div>
						<div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">Contact No</span>
							<span class="colon">:</span> </div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							  <input type="text" class="form-control" placeholder="Enter Contact" maxlength="15" oninvalid="this.setCustomValidity('Enter Contact');" onkeypress="this.setCustomValidity('');" ng-model="userVm.user.contact" />
							</div>
						  </div>
						    <!-- .col -->
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">
								Gender
							</span>
							<i class="star red">*</i>
							<span class="colon">:</span> 
						</div>
						  <!-- .col -->
						  <div class="col-lg-10 col-md-10 col-sm-9">
							<div class="form-group">
							 <select class="form-control"
							  ng-model="userVm.user.gender" 
							  ng-options="gender.name as gender.title for gender in userVm.genders"  ng-required = "true">
							  <option value="">--- Select ---</option>
							</select>
							</div>
						  </div>
						  <!-- .col -->
						  
						  <!-- .col -->
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> 
							<span class="form-label">
								Role
							</span>
							<i class="star red">*</i>
							<span class="colon">:</span> 
						</div>
						  <!-- .col -->
						  <div class="col-lg-3 col-md-3 col-sm-2">
							<div class="form-group">
							 <select class="form-control"
							  ng-model="userVm.user.role" 
							  ng-options="role.id as role.name for role in userVm.roles"  ng-required = "true">
							  <option value="">--- Select ---</option>
							</select>
							</div>
						  </div>
						  <!-- .col -->
							<div class="clearfix">
								<div class="panel panel-default">			
									<div class="panel-heading">
										<label ng-show="user.id">
											has <span class="badge">{{userVm.user.permissionArray?userVm.user.permissionArray.length:0}}</span> permission(s) at present.
										</label>
										<input type="button" value="Select All" ng-click="userVm.checkAll();">
										<input type="button" value="Clear All" ng-click="userVm.uncheckAll();">
									</div>
									<div class="panel-body">
										<ul ng-repeat="group in userVm.allPermissionsGroup" style="list-style-type: none;" class="col-md-6 col-sm-6 col-xs-12">
											<li class="col-xs-12">
												<label style="font-weight:bold;font-size:12pt;">{{group.groupName}}</label>
											</li>
											<li ng-repeat="permission in group.permissions" style="color:gray; font-size:10pt;" class="col-md-4 col-sm-4 col-xs-12">
												
												<label>
													<input type="checkbox" checklist-model="userVm.user.permissionArray" checklist-value="permission.authority" ng-click="userVm.checkSelection();"> {{permission.description}}
												</label>
											</li>
										</ul>
									</div>
								</div>								
							 </div>
						</div>
						<!-- .row -->
					   
						<!-- .row -->
						<div class="row checkrow">
						  <div class="col-lg-2 col-md-2 col-sm-3 visible-xs-padding-right"> &nbsp; </div>
						  <!-- .col -->
						  <div class="col-lg-9 col-md-9 col-sm-8 pad_top_30">
							<input type="submit" value="Update User" class="actions submit-btn btn btn-primary">
							&nbsp;&nbsp;
							<input type="reset" value="Reset" class="actions reset-btn btn btn-warning">
							&nbsp;&nbsp;
							<input type="button" value="Go Back" class="actions reset-btn btn btn-info" ng-click="userVm.cancelUserAction();">
							<span class="spinner" style="display:none;">
								<img src="images/loading.gif" />
							</span>
						  </div>
						  <!-- .col -->
						</div>
						<!-- .row -->
					</form>
				</div>
			</div>
	</div>
</div>
<div style="clear:both;height:50px;"></div>
<div ng-include="'templates/footer.html'" ></div>


